{
  "master": {
    "tasks": [
      {
        "id": 1,
        "title": "Project Initialization and Tooling Setup",
        "description": "Initialize the project repository, configure Vite, TypeScript, ESLint, Prettier, and set up the base folder structure.",
        "details": "Use Vite to scaffold a new React (v18+) + TypeScript (v5+) project. Configure ESLint and Prettier for code quality. Set up Tailwind CSS with PostCSS and Autoprefixer. Initialize Git repository and connect to GitHub. Prepare .env files for environment variables. Ensure npm or pnpm is used for dependency management.",
        "testStrategy": "Verify project builds and runs locally. Lint and format sample files. Confirm GitHub integration and CI/CD triggers on push.",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 2,
        "title": "Supabase Project and Database Schema Setup",
        "description": "Create Supabase project, configure PostgreSQL schema for users, questions, and votes, and enable Row Level Security (RLS).",
        "details": "Define tables: users, questions (id, content, author_id, created_at, updated_at), votes (id, question_id, user_id). Enable RLS policies to restrict question edit/delete to owners and voting to authenticated users. Use supabase MCP for schema and API generation.\n\n✅ 작업 완료 요약:\n- 데이터베이스 스키마 생성 완료 (questions, votes 테이블)\n- Row Level Security (RLS) 정책 설정 완료\n- 인덱스 생성 완료\n- 자동 업데이트 트리거 생성 완료\n- TypeScript 타입 생성 완료 (src/types/supabase.ts)\n- 보안 권고사항 해결 완료",
        "testStrategy": "Test CRUD operations via Supabase dashboard. Attempt unauthorized actions to verify RLS enforcement.",
        "priority": "high",
        "dependencies": [
          1
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 3,
        "title": "Supabase Auth Integration",
        "description": "Implement email/password authentication using Supabase Auth, including signup, login, email verification, and password reset.",
        "details": "Integrate @supabase/supabase-js SDK. Implement signup, login, logout, email verification (optional), and password reset flows. Store JWT in memory or secure storage. Ensure session persistence and automatic refresh.\n\n✅ 작업 완료 요약:\n- @supabase/supabase-js 패키지 설치 완료\n- Supabase 클라이언트 설정 파일 생성 (src/lib/supabase.ts)\n- 인증 컨텍스트 및 훅 생성 (src/contexts/AuthContext.tsx)\n  - 회원가입, 로그인, 로그아웃, 비밀번호 재설정 기능 구현\n  - 세션 상태 관리 및 자동 갱신\n- 인증 UI 컴포넌트 생성:\n  - LoginForm, SignUpForm, ForgotPasswordForm\n  - AuthPage 통합 컴포넌트\n- main.tsx에 AuthProvider 추가\n- App.tsx 업데이트 (인증 상태에 따른 UI 렌더링)\n- .env 파일 생성 및 설정",
        "testStrategy": "Register, login, logout, and reset password with test accounts. Validate JWT session and RLS access.",
        "priority": "high",
        "dependencies": [
          2
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 4,
        "title": "Protected Routing with React Router",
        "description": "Set up React Router v6+ with protected routes for authenticated user access.",
        "details": "Configure routes for login, signup, and main Q&A page. Implement a ProtectedRoute component that checks Supabase Auth session. Redirect unauthenticated users to login.\n\n✅ 작업 완료 요약:\n- react-router-dom 패키지 설치 완료\n- ProtectedRoute 컴포넌트 생성 (src/components/routing/ProtectedRoute.tsx)\n  - 인증 상태 확인 및 리다이렉트 처리\n  - 로딩 상태 처리\n- 페이지 컴포넌트 생성:\n  - LoginPage, SignUpPage, ForgotPasswordPage, HomePage\n- 라우팅 구조 설정:\n  - Public Routes: /login, /signup, /forgot-password\n  - Protected Routes: / (메인 페이지)\n  - Catch-all route: 알 수 없는 경로는 /로 리다이렉트\n- 자동 리다이렉트 구현:\n  - 로그인/회원가입 성공 시 자동으로 홈으로 이동\n  - 인증된 사용자가 로그인 페이지 접근 시 홈으로 리다이렉트\n  - 로그아웃 시 로그인 페이지로 리다이렉트",
        "testStrategy": "Attempt to access protected pages without authentication. Ensure proper redirection and access control.",
        "priority": "medium",
        "dependencies": [
          3
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 5,
        "title": "Global State and Data Fetching with TanStack Query",
        "description": "Integrate TanStack Query (React Query v5+) for server state management and data fetching from Supabase.",
        "details": "Set up QueryClientProvider. Implement queries and mutations for questions and votes. Enable optimistic updates for question creation, editing, deletion, and voting. Integrate with Supabase Realtime for live updates.\n\n✅ 작업 완료 요약:\n- @tanstack/react-query 패키지 설치 완료\n- QueryClientProvider 설정 (src/lib/queryClient.ts, main.tsx)\n- 질문(questions) 쿼리 및 뮤테이션 구현 (src/hooks/useQuestions.ts):\n  - useQuestions: 질문 목록 조회\n  - useCreateQuestion: 질문 생성 (낙관적 업데이트)\n  - useUpdateQuestion: 질문 수정 (낙관적 업데이트)\n  - useDeleteQuestion: 질문 삭제 (낙관적 업데이트)\n- 투표(votes) 쿼리 및 뮤테이션 구현 (src/hooks/useVotes.ts):\n  - useVoteCount: 특정 질문의 투표 수 조회\n  - useUserVote: 사용자 투표 상태 확인\n  - useAddVote: 투표 추가 (낙관적 업데이트)\n  - useRemoveVote: 투표 제거 (낙관적 업데이트)\n  - useToggleVote: 투표 토글\n- 낙관적 업데이트 구현:\n  - 모든 뮤테이션에 onMutate, onError, onSuccess 핸들러 추가\n  - 에러 발생 시 자동 롤백\n- Supabase Realtime 통합:\n  - useRealtimeQuestions: questions 테이블 실시간 동기화\n  - useRealtimeVotes: votes 테이블 실시간 동기화\n  - HomePage에 Realtime 훅 통합",
        "testStrategy": "Test data fetching, mutation, and real-time sync. Simulate network latency to verify optimistic UI.",
        "priority": "high",
        "dependencies": [
          4
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 6,
        "title": "Real-time Question Management",
        "description": "Implement real-time question creation, editing, and deletion using Supabase Realtime and optimistic UI updates.",
        "details": "Subscribe to INSERT/UPDATE/DELETE events on the questions table via Supabase Realtime. Update UI immediately on user action, then reconcile with server state. Only show edit/delete for user's own questions.\n\n✅ 작업 완료 요약:\n- 질문 카드 컴포넌트 생성 (QuestionCard):\n  - 질문 내용 표시\n  - 작성 시간 표시 (상대 시간)\n  - 본인 질문에만 수정/삭제 버튼 표시\n  - 투표 버튼 및 투표 수 표시\n  - 본인 질문에는 투표 불가\n- 질문 생성 폼 컴포넌트 (CreateQuestionForm):\n  - Textarea를 사용한 질문 입력\n  - 낙관적 업데이트로 즉시 UI 반영\n  - 에러 처리\n- 질문 수정 다이얼로그 (EditQuestionDialog):\n  - Dialog를 사용한 모달 UI\n  - 질문 내용 수정\n  - 에러 처리\n- 질문 삭제 확인 다이얼로그:\n  - AlertDialog를 사용한 삭제 확인\n  - 안전한 삭제 프로세스\n- 질문 목록 컴포넌트 (QuestionList):\n  - 질문 목록 표시\n  - 로딩 상태 (Skeleton)\n  - 에러 상태 처리\n  - 빈 상태 처리\n- 투표 기능:\n  - ThumbsUp 아이콘 사용\n  - 투표 수 실시간 표시\n  - 투표 상태에 따른 버튼 스타일 변경\n  - 본인 질문에는 투표 불가\n- HomePage 통합:\n  - CreateQuestionForm과 QuestionList 통합\n  - Realtime 훅 활성화 (이미 구현됨)\n- shadcn/ui 컴포넌트 추가:\n  - Textarea, Dialog, AlertDialog, Skeleton",
        "testStrategy": "Create, edit, and delete questions from multiple clients. Verify real-time sync and UI consistency.",
        "priority": "high",
        "dependencies": [
          5
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 7,
        "title": "Voting System Implementation",
        "description": "Enable users to upvote questions, with real-time vote count updates and prevention of duplicate votes.",
        "details": "Implement vote button for each question (except own). On click, insert or remove vote in the votes table. Use Supabase Realtime to update vote counts instantly. Prevent multiple votes per user per question at the DB level.\n\n✅ 작업 완료 요약:\n- 투표 버튼 구현 (QuestionCard):\n  - ThumbsUp 아이콘 사용\n  - 투표 수 실시간 표시\n  - 투표 상태에 따른 버튼 스타일 변경 (hasVoted에 따라 default/outline)\n  - 본인 질문에는 투표 불가 (isOwner 체크)\n  - 로그인하지 않은 사용자는 투표 불가\n- 투표 토글 기능:\n  - useToggleVote 훅 사용\n  - 투표 추가/제거 자동 처리\n  - 낙관적 업데이트로 즉시 UI 반영\n- 실시간 투표 수 업데이트:\n  - useRealtimeVotes 훅으로 실시간 동기화\n  - INSERT/DELETE 이벤트 감지\n  - 모든 클라이언트에 즉시 반영\n- 중복 투표 방지:\n  - DB 레벨 unique constraint 추가 (votes_question_user_unique)\n  - question_id와 user_id 조합이 unique하도록 제약\n  - 데이터베이스 레벨에서 중복 투표 완전 차단\n- 투표 상태 관리:\n  - useVoteCount: 특정 질문의 투표 수 조회\n  - useUserVote: 사용자 투표 상태 확인\n  - 실시간으로 동기화",
        "testStrategy": "Vote/unvote from multiple clients. Attempt duplicate votes. Confirm real-time vote count updates.",
        "priority": "high",
        "dependencies": [
          6
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 8,
        "title": "Responsive UI with shadcn/ui and Tailwind CSS",
        "description": "Build a fully responsive UI using shadcn/ui components, Tailwind CSS, and tweakcn for design tokens.",
        "details": "Use shadcn/ui for Card, Button, Input, Dialog, Toast, etc. Apply Tailwind CSS breakpoints for mobile, tablet, and desktop layouts. Integrate tweakcn for color palette and theme management. Support dark/light mode (optional). Optimize touch targets and navigation for each device type.\n\n✅ 작업 완료 요약:\n- tweakcn 패키지 설치 완료\n- HomePage 반응형 레이아웃 개선:\n  - 모바일: 세로 레이아웃, 작은 패딩, 작은 텍스트\n  - 태블릿/데스크톱: 가로 레이아웃, 큰 패딩, 큰 텍스트\n  - 헤더와 버튼 반응형 스타일링\n- QuestionCard 반응형 개선:\n  - 터치 타겟 최적화 (min-h-[44px] 모바일, min-h-[36px] 데스크톱)\n  - 텍스트 크기 반응형 조정\n  - 버튼 레이아웃 모바일에서 세로, 데스크톱에서 가로\n  - break-words로 긴 텍스트 처리\n- CreateQuestionForm 반응형 개선:\n  - 버튼 모바일에서 전체 너비, 데스크톱에서 자동 너비\n  - 텍스트 영역 최소 높이 조정\n- 인증 페이지들 반응형 개선:\n  - LoginForm, SignUpForm, ForgotPasswordForm 모두 반응형 적용\n  - 입력 필드 터치 타겟 최적화\n  - 텍스트 크기 반응형 조정\n- EditQuestionDialog 반응형 개선:\n  - 모바일에서 전체 너비 (max-w-[95vw])\n  - 버튼 모바일에서 세로 배치\n- AlertDialog 반응형 개선:\n  - 모바일에서 전체 너비\n  - 버튼 모바일에서 세로 배치\n- QuestionList 반응형 개선:\n  - 로딩, 에러, 빈 상태 모두 반응형 스타일링\n- 전역 CSS 터치 최적화:\n  - touch-action: manipulation 추가\n  - 모든 인터랙티브 요소에 적용",
        "testStrategy": "Test UI on various devices and screen sizes. Use browser dev tools and Playwright for viewport testing.",
        "priority": "medium",
        "dependencies": [
          7
        ],
        "status": "done",
        "subtasks": []
      },
      {
        "id": 9,
        "title": "Form Handling and Validation",
        "description": "Implement question submission and editing forms using React Hook Form and Zod for schema validation.",
        "details": "Create forms for question creation and editing. Use React Hook Form with Zod resolver for type-safe validation. Integrate shadcn/ui Form components. Display validation errors and manage form state.",
        "testStrategy": "Submit valid and invalid forms. Check error messages and form reset behavior.",
        "priority": "medium",
        "dependencies": [
          8
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 10,
        "title": "Session Management and User Context",
        "description": "Maintain user session and context throughout the app, ensuring correct access and UI state.",
        "details": "Store user info in React context or TanStack Query cache. Ensure session is refreshed and invalidated on logout. Use context to conditionally render UI (e.g., show edit/delete only for own questions).",
        "testStrategy": "Login/logout and navigate app. Confirm session persistence and correct UI rendering.",
        "priority": "medium",
        "dependencies": [
          9
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 11,
        "title": "Toast Notifications and Error Handling",
        "description": "Provide user feedback for actions (success, error) using shadcn/ui Toast and integrate Sentry for error tracking.",
        "details": "Show toast notifications for question/vote actions and errors. Integrate Sentry with React Error Boundary for error reporting and performance monitoring. Configure Sentry MCP for source maps and alerts.",
        "testStrategy": "Trigger success and error scenarios. Verify toast display and Sentry error capture.",
        "priority": "medium",
        "dependencies": [
          10
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 12,
        "title": "End-to-End Testing with Playwright",
        "description": "Write E2E tests for core flows: authentication, question CRUD, voting, and real-time sync across devices.",
        "details": "Use Playwright MCP to generate and maintain E2E scripts. Test on Chromium, Firefox, WebKit. Cover mobile, tablet, and desktop viewports. Simulate multi-user scenarios and network interruptions.",
        "testStrategy": "Run E2E tests in CI. Validate all critical user journeys and real-time features.",
        "priority": "medium",
        "dependencies": [
          11
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 13,
        "title": "Deployment and CI/CD with Vercel",
        "description": "Configure Vercel for automatic deployment, preview environments, and environment variable management.",
        "details": "Connect GitHub repo to Vercel. Set up production and preview deployments. Configure environment variables for Supabase and Sentry. Use Vercel MCP for deployment automation.",
        "testStrategy": "Push code to trigger deployments. Verify preview and production builds. Test environment variable injection.",
        "priority": "medium",
        "dependencies": [
          12
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 14,
        "title": "Accessibility and UX Enhancements",
        "description": "Ensure accessibility (a11y) compliance and polish UX using Radix UI primitives and shadcn/ui best practices.",
        "details": "Audit UI for keyboard navigation, ARIA roles, and color contrast. Use Radix UI for accessible dialogs, toasts, and forms. Refine focus management and screen reader support.",
        "testStrategy": "Test with keyboard and screen readers. Use a11y tools to check compliance.",
        "priority": "low",
        "dependencies": [
          13
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 15,
        "title": "Monitoring, Analytics, and Final QA",
        "description": "Set up Sentry for monitoring, review analytics, and perform final QA before launch.",
        "details": "Ensure Sentry is capturing errors and performance data. Review Playwright and manual QA results. Address any critical bugs. Prepare documentation for deployment and handoff.",
        "testStrategy": "Monitor Sentry dashboard. Run regression tests. Validate analytics and error reporting.",
        "priority": "medium",
        "dependencies": [
          14
        ],
        "status": "pending",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2025-11-06T03:03:04.269Z",
      "updated": "2025-11-06T03:50:38.656Z",
      "description": "Tasks for master context"
    }
  }
}